@model IEnumerable<OST_Admin.Models.Form>

@{
    ViewBag.Title = "Index";
}
<div id = "form-index-outer">
<div class="header ui-widget-header ui-corner-top">Form Management</div>
<div id ="form-index" class="ui-corner-bottom ui-widget-content ui-widget">
<table id="form-index-table">
    <thead>
    <tr>
        <th> Group </th>
        <th> Name  </th>
        <th> Description </th>
        <th> Date Created</th>
        <th> Active </th>
        <th></th>
    </tr>
    </thead>
        <tbody>
@foreach (var item in Model.OrderBy(p => p.DateCreated)) {

    <tr>
        <td>
            @Html.DisplayFor(modelItem => item.Group)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Name)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Description)
        </td>
        <td>
            @item.DateCreated.Value.ToShortDateString()
        </td>
        <td>
            @if (item.Active == false)
            {
                <text>inactive</text>
            }
            else
            {
                <text>active</text>
            }
        </td>
        <td>
            @Html.ActionLink("Edit", "Edit", new { id = item.FormId })&nbsp;|&nbsp;@Html.ActionLink("Delete", "Delete", new { id = item.FormId })&nbsp;|&nbsp;@Html.ActionLink("XML", "XML", new { id = item.FormId })

            @{
            //@Html.ActionLink("Edit", "Edit", new { id = item.FormId }, new { @class = "ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only", role = "button" })
           // @Html.ActionLink("Delete", "Delete", new { id = item.FormId }, new { @class = "ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only" }) |
            //@Html.ActionLink("XML", "XML", new { id = item.FormId }, new { @class = "ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only" })
            }
            
        </td>
    </tr>

}
    </tbody>
</table>

</div>
@Html.ActionLink("Create New", "Create", null,  new { id = "btn-create" })
</div>
@section Scripts {

<script>


    $(function () {
        $("a[id=btn-create]").button();
        $("a[id=btn-log-out]").button();
        $("#form-index-table").dataTable({
            "bJQueryUI": true,
            "bPaginate": false,
            "aaSorting": [[4, "asc"], [0, "asc"], [1, "asc"]],
            "aoColumns": [
                { "bSortable": true },
                { "bSortable": true },
                { "bSortable": true },
                { "bSortable": true },
                { "bSortable": true },
                { "bSortable": false}]
        });
    });
</script>
}
