@model OST_Admin.Models.Form

@{
    ViewBag.Title = "Create";
 }

@using (Html.BeginForm())
{
    @Html.ValidationSummary(true)
   <input type="hidden" name="CreatedBy" value="@ViewBag.CreatedBy" />
   <div id="form-editor-outer">
   @{   //commented out for now, don't think we need it now that main menu exists
        //<div>@Html.ActionLink("Back to List", "Index",null, new { id = "Back" })</div>
    }
   <div class="header ui-widget-header ui-corner-top">Create Form</div>
   
    <div id="form-editor" class="ui-corner-bottom ui-widget-content ui-widget">
        <div id="form-title">
           <input id="Name" class="text-box single-line" type="text" value="Form Name" name="Name"/>
        </div>
        <div id="form-descrip">
           <input id="Description" class="text-box single-line" type="text" value="Form Description" name="Description"/>
        </div>

         <table id="form-editor-meta-table">
            <tr>
                <td> SharePoint URL </td>
                <td>
                    <div id="form-url">
                        <input id="URL" class="text-box single-line" type="text" value="http://myserver/_vti_bin/ListData.svc" name="URL"/>                                         
                    </div>
                </td>
                <td>@MyHTML.Help("The URL to the SharePoint list for this form")</td>
            </tr>
            <tr>
                <td> SharePoint ListName </td>
                <td>
                    <div id="form-list-name">
                        <input style="display: inline" id="ListName" class="text-box single-line" type="text" value="" name="ListName"/>                        
                    </div>
                </td>
                <td>@MyHTML.Help("The name of the list in SharePoint for this form")</td>
            </tr>
            <tr>
                <td> Form Group </td>
                <td>
                    <div id="form-group">
                        <input id="Group" class="text-box single-line" type="text" value="" name="Group"/>
                    </div>
                </td>
                <td>@MyHTML.Help("The group for this form. This is how forms will be categorized on the device application.")</td>
            </tr>
            <tr>
                <td>Auto Update</td>
                <td>
                    <div id="form-create-btnset-autoupdate">
                        <input type="radio" id="form-create-autoupdate1" name="AutoUpdate" value="true" /><label for="form-create-autoupdate1">True</label>
                        <input type="radio" id="form-create-autoupdate2" name="AutoUpdate" value="false" checked="checked"/><label for="form-create-autoupdate2">False</label>
                    </div>
                </td>
                <td>@MyHTML.Help("True - completed forms will be pushed to the SharePoint list automatically from the device when the device is connected to the Internet.\nFalse - completed forms will be manually pushed to SharePoint from the device by the user.")</td>
            </tr>
            <tr>
                <td>Active</td>
                <td>
                    <div id="form-create-btnset-active">
                        <input type="radio" id="form-create-active1" name="Active" value="true" checked="checked"/><label for="form-create-active1">True</label>
                        <input type="radio" id="form-create-active2" name="Active" value="false" /><label for="form-create-active2">False</label>
                    </div>
                </td>
                <td>@MyHTML.Help("True - completed forms will show up on the mobile app.\nFalse - completed forms will stay in the admin tool.")</td>
            </tr>
            <tr>
                <td> Key Field</td>
                <td>
                    <div id="form-key-field">
                        <input id="KeyField" class="text-box single-line" type="text" value="" name="KeyField"/>
                    </div>
                </td>
                <td>@MyHTML.Help("The key field of a form will be used by the device to display a list of completed forms. The key field should be a field that is unique for each completed form.")</td>
            </tr>
        </table>
    </div>

    <div id="Questions">
        </div>
            <input type="submit" value="Create" />
        </div>
}



@section Scripts {
<script type="text/javascript">
    $(function () {

        $("#form-create-btnset-autoupdate").livequery(function () {
            $(this).buttonset();
        });

        $("#form-create-btnset-active").livequery(function () {
            $(this).buttonset();
        });

        $("input[type=submit], button").button();
        $("#Back").button();
    });
</script>
}

